(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{231:function(t,s,a){t.exports=a.p+"assets/img/image.fb5b9772.png"},232:function(t,s,a){t.exports=a.p+"assets/img/image-1.066acd9d.png"},233:function(t,s,a){t.exports=a.p+"assets/img/image-2.8e44b329.png"},234:function(t,s,a){t.exports=a.p+"assets/img/image-3.fe5950d7.png"},235:function(t,s,a){t.exports=a.p+"assets/img/image-4.366abb43.png"},236:function(t,s,a){t.exports=a.p+"assets/img/image-5.08ef8c9a.png"},237:function(t,s,a){t.exports=a.p+"assets/img/image-6.7b4ac4f0.png"},238:function(t,s,a){t.exports=a.p+"assets/img/image-7.d24f74c7.png"},239:function(t,s,a){t.exports=a.p+"assets/img/image-8.9fe0ce12.png"},240:function(t,s,a){t.exports=a.p+"assets/img/image-9.d3ecc383.png"},241:function(t,s,a){t.exports=a.p+"assets/img/image-10.99501e5f.png"},242:function(t,s,a){t.exports=a.p+"assets/img/image-11.25459e96.png"},243:function(t,s,a){t.exports=a.p+"assets/img/image-12.857a7487.png"},244:function(t,s,a){t.exports=a.p+"assets/img/image-13.eb64e736.png"},245:function(t,s,a){t.exports=a.p+"assets/img/image-14.8bb056a1.png"},246:function(t,s,a){t.exports=a.p+"assets/img/image-15.e30c00a3.png"},247:function(t,s,a){t.exports=a.p+"assets/img/image-16.d3b24208.png"},248:function(t,s,a){t.exports=a.p+"assets/img/image-17.c53c3233.png"},249:function(t,s,a){t.exports=a.p+"assets/img/image-18.85e5cb81.png"},250:function(t,s,a){t.exports=a.p+"assets/img/image-19.37f8c8a9.png"},251:function(t,s,a){t.exports=a.p+"assets/img/image-20.9960b5fb.png"},252:function(t,s,a){t.exports=a.p+"assets/img/image-21.6d6e95e0.png"},253:function(t,s,a){t.exports=a.p+"assets/img/image-22.5698be18.png"},254:function(t,s,a){t.exports=a.p+"assets/img/image-23.f381ea51.png"},255:function(t,s,a){t.exports=a.p+"assets/img/image-24.640d7869.png"},256:function(t,s,a){t.exports=a.p+"assets/img/image-25.8b9f8ee9.png"},313:function(t,s,a){"use strict";a.r(s);var e=a(0),i=Object(e.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"一、-基于eit技术的压力感知系统设计"}},[t._v("一、 基于EIT技术的压力感知系统设计")]),t._v(" "),e("h1",{attrs:{id:"_1-基于eit技术的压力感知系统设计"}},[t._v("1. 基于EIT技术的压力感知系统设计")]),t._v(" "),e("p",[e("strong",[t._v("系统设计作者：李志斌（硬件设计），李昀镀（软件及成像算法设计）")])]),t._v(" "),e("h2",{attrs:{id:"_1-1-eit测量系统结构概述"}},[t._v("1.1 EIT测量系统结构概述")]),t._v(" "),e("p",[t._v("EIT系统总体结构框图如图2所示，电路板设计图、实物图如图3所示，完整原理图见附录A。")]),t._v(" "),e("p",[e("img",{attrs:{src:a(231),alt:"这是一个示例图片"}})]),t._v(" "),e("p",[t._v("它由五个部分组成：（1）激励信号产生模块。它是由一个数字模拟转换器（Digital-to-Analog Converter, DAC）和一个压控电流源来实现的，该电路可通过DAC产生特定波形信号，再经过滤波、放大后产生同样波形的恒定电流。（2）电极切换电路。它由一个模拟开关阵列芯片CH446Q组成，用于在不同的激励电极和测量电极对之间切换。（3）数据采集模块。该模块主要由仪表放大器、模数转换芯片AD7606组成。它们用于获取和处理检测到的来自表面电极的信号。（4）控制单元。该单元采用单片机STM32F407ZGT6，控制电流源信号的产生、电极驱动顺序和模数转换采样。实现边界电压数字解调，并将该电压数据传输到上位机。芯片STM32F407ZGT6具有12位D/A转换核心，转换频率可达1MHz，我们将使用此DAC产生激励信号。它还具有特殊的浮点运算核心，时钟频率可高达168MHz。这些特性都满足了上述数字解调的需要。(5)被测场域。我们将搭建两种类型的被测场域。第一种是装有离子液体的圆形水槽，通过在水槽中放置物品，改变场域中的电导率分布，此模型用于验证EIT测量系统的正确性。第二种是填充在圆形场域中的含有导电离子的水凝胶，用于模仿E-skin。本研究中我们采用加入了NaCl的聚乙烯醇水凝胶。当有外界压力施加在凝胶材料上时，会导致其表面产生凹陷，局部电导率降低。通过EIT系统即可检测到这种电导率的变化，从而反推出压力信号的位置和大小。(6)上位机。MATLAB通过串口通讯接收边界电压幅值，通过图像重建算法获得电导率分布。")]),t._v(" "),e("p",[e("img",{attrs:{src:a(232),alt:"alt text"}})]),t._v(" "),e("p",[t._v("该系统的工作过程如下:首先，STM32控制DAC初始化可变幅值和频率的电压信号，压控电流源将该电压信号转换为稳定电流输出。模拟开关阵列芯片也由STM32控制，以特定顺序导通电极。在EIT系统中，我们采用相邻的电极施加电流和测量电位，即在相邻的两个电极之间施加电流，并从剩余的电极测量每对相邻电极间的电压。最后，通过STM32进行FFT数字解调，得到电压的幅值信息，并将解调结果传输给上位机。在上位机通过MATLAB调用EIDORS工具包进行图像重构。")]),t._v(" "),e("h2",{attrs:{id:"_1-2-基于ch446q模拟开关芯片的阵列扫描系统"}},[t._v("1.2 基于CH446Q模拟开关芯片的阵列扫描系统")]),t._v(" "),e("p",[t._v("CH446Q是一款由中国芯片厂商厦门诺华微电子有限公司生产的8"),e("em",[t._v("16模拟开关阵列芯片。该芯片可用于各种测量和检测应用，包括阻抗层析成像系统。CH446Q芯片内置的8")]),t._v("16个模拟开关，可用于将16个电极与阻抗层析成像系统的恒流源和ADC相连。该芯片采用高精度工艺制造，能够提供优异的性能和可靠性。与其他模拟开关芯片相比，CH446Q具有更低的导通电阻和更高的带宽，能够提供更好的信号传输和处理能力。此外，该芯片还具有低功耗和高速性的优点，其电源电流为0.4-1.5mA，模拟开关切换延迟最小值为5ns，典型值为30ns，最大值为70ns，可满足阻抗层析成像系统在实时性和能耗方面的需求。总的来说，CH446Q是一款高性能、低功耗的模拟开关阵列芯片，非常适合用于阻抗层析成像系统的前端电路。")]),t._v(" "),e("p",[t._v("在本系统中，我们将使用该模拟开关阵列芯片的8"),e("em",[t._v("16路信号中的4")]),t._v("16路。其中有16路信号的一侧（X0-X15），依次与布置在圆形被测场域周围的16个电极相连。有4路信号的一侧（Y0-Y3），Y0、Y1与压控恒流源相连，用于向被测场域内施加激励信号；Y2、Y3与差分仪表放大器相连，用于测量场域周围的电压信号。")]),t._v(" "),e("p",[t._v("工作时，我们将压控电流源所连接的Y0、Y1依次与X0、X1，X1、X2，……，X15、X0相连。每切换一次电流源，则将差分仪表放大器所连接的Y2、Y3与其他14个电极中相邻的电极对依次导通。例如Y0、Y1导通X0、X1时，则Y2、Y3依次导通X2、X3，X3、X4，……，X14、X15。从而实现相邻模式下的电流激励与电压测量。")]),t._v(" "),e("h2",{attrs:{id:"_1-3-激励信号产生模块硬件电路设计"}},[t._v("1.3 激励信号产生模块硬件电路设计")]),t._v(" "),e("p",[t._v("在本系统中，我们需要产生稳定的单一频率的恒定电流源，作为激励源信号。我们采用DAC加压控电流源的方式产生该信号。DAC负责将预处理好的正弦波形幅值数组转化为对应的正弦电压信号。将该信号作为压控电流源的输入，即可得到稳定的交流恒流源。")]),t._v(" "),e("p",[t._v("关于交流激励的频率选择，使用较高频率的信号可以有效降低环境噪声的干扰。在此前的研究中，通常使用的频段为50KHz-1MH。但考虑到本系统数据采集电路的模数转换芯片AD7606采样率为200KHz，根据奈奎斯特定律，可以使用的交流激励的频率理论最高为100KHz。为了使采样数据能较好地还原出完整的波形，我们使用20KHz的正弦波作为激励信号。")]),t._v(" "),e("p",[t._v("DAC能够将数字信号转换为相应的模拟电压输出。本实验所使用的STM32F407ZGT6单片机包含两个12位DAC，更新率为1MSamples/s，可以满足产生20KHZ正弦波的要求。故无需外接DAC芯片。但STM32内置的DAC芯片只能输出0.5mV-3.3V的模拟信号，故我们给正弦波加入1V偏置，使得DAC正常输出。该偏置将在通过压控电流源时被滤除。\n压控电流源是一种电子元器件，其主要特点是可以根据输入的控制电压来调整输出电流的大小，实现精确的电流控制。压控电流源一般由电压控制电路和电流输出电路组成。在电压控制电路中，一般采用运算放大器等元器件将输入的控制电压进行放大、滤波和处理。而电流输出电路则根据电压控制电路的输出，通过控制晶体管等元器件的导通与截止，来实现精确的电流控制。在本系统中，我们所使用的压控电流源原理图所示。")]),t._v(" "),e("p",[e("img",{attrs:{src:a(233),alt:"alt text"}})]),t._v(" "),e("p",[t._v("经测试，我们选择DAC输出20KHz正弦波幅值为100mV，恒流源输出20KHz正弦波幅值为4mA。")]),t._v(" "),e("h2",{attrs:{id:"_1-4-前端仪表放大电路设计"}},[t._v("1.4 前端仪表放大电路设计")]),t._v(" "),e("p",[t._v("由于直接从电极上采集到的电压信号非常微弱，所以我们需要先通过仪表放大器放大后再使用模数转换器采样。仪表放大器是一种专用的放大器电路，它主要用于放大微弱信号，并在信号放大的同时抑制噪声和干扰。通常，微弱信号的放大需要高放大倍数，而这也意味着对噪声和干扰的抑制要求也越高。因此，仪表放大器的设计需要考虑到信号放大和噪声抑制两方面。仪表放大器与普通的差分放大器的主要区别在于，仪表放大器具有输入缓冲器，不需要输入阻抗匹配，使放大器适用于测量以及电子仪器上。\n本实验中所使用的仪表放大电路原理图所示。")]),t._v(" "),e("p",[e("img",{attrs:{src:a(234),alt:"alt text"}})]),t._v(" "),e("p",[t._v("经测试，我们选择DAC输出20KHz正弦波幅值为100mV，恒流源输出20KHz\n正弦波幅值为4mA。")]),t._v(" "),e("h2",{attrs:{id:"_1-5-基于ad7606模数转换器的数据采集电路设计"}},[t._v("1.5 基于AD7606模数转换器的数据采集电路设计")]),t._v(" "),e("p",[t._v("数据采集电路的主要设计目的为，对经过仪表放大器放大的电极电压信号进行采样，并转换为数字信号输出到STM32进行数据的初步处理。为此，我们需要使用模数转换器（Analog-to-Digital Converter, ADC）。STM32内置3个12位ADC，可以实现最高6MSample/s的采样率。但由于采样精度较低，且考虑到系统后续迭代优化可能会考虑实现多路并行采样，我们选择外接采样精度较高，通道数较多的AD7606。\nAD7606是一款由美国ADI公司生产的16位、8通道、带有模拟前端开关的高速数据采集器，能够实现200KSample/s的8通道数据采集。它具有低功耗、高精度、高速率、可编程增益等特点，可广泛应用于自动控制、测试设备、仪器仪表、信号采集等领域。AD7606内置了可编程增益放大器，可实现单端或差分输入，并能够在±10V范围内采集数据。同时，它还具有内部参考电压和外部参考电压两种选项，可根据实际应用需要进行选择。此外，AD7606还具有SPI接口和并行接口两种通信方式，能够满足不同应用场景的需求。AD7606还具有低功耗特性，能够满足电池供电的应用需求。总之，AD7606具有高速、高精度、多通道和低功耗等优势，因此在工业自动化、医疗仪器、通信设备等领域广泛应用。\n在本系统中，我们将仪表放大器输出的单端信号输入到AD7606的第1个采样通道，并通过FSMC总线将采样结果输出到STM32。")]),t._v(" "),e("h2",{attrs:{id:"_1-6-基于stm32单片机-的fft解调算法设计"}},[t._v("1.6 基于STM32单片机 的FFT解调算法设计")]),t._v(" "),e("p",[t._v("STM32F407ZGT6是STMicroelectronics公司推出的一款高性能32位微控制器，是STM32F4系列微控制器之一。采用了设计用于需要高性能、低功耗和丰富连接选项应用的ARM Cortex-M4内核，主频高达168MHz，拥有1MB的Flash存储器和192KB的SRAM，可以满足大多数应用的要求。除此之外，它还配备了多种外设接口，如USB、以太网、CAN、SPI、I2C和USART，使其具备丰富的连接选项，适用于各种工业控制、医疗设备和消费电子等领域。在引脚分配方面，STM32F407ZGT6也具有灵活性，可以根据应用程序的需要进行配置。此外，该芯片还支持实时时钟、看门狗定时器和低功耗模式等功能，可以有效地减少系统的功耗并延长寿命。STM32F407ZGT6支持多种开发工具，包括Keil、IAR和STMCube等，可以方便地进行开发和调试。它具有多种内置安全功能，如可编程读取保护、写保护和数据保护，以确保应用程序的安全性和可靠性。\n综上所述，STM32F407ZGT6是一款高性能、低功耗、丰富的外设和强大的安全性的微控制器。对于我们设计的16电极的EIT系统，STM32F407ZGT6是一个非常理想的芯片选择。它不仅具有高性能和灵活性，而且可以通过多种外设接口方便地与其他模块进行通信。在我们的设计中，它扮演着控制系统的角色，通过控制模拟开关阵列、ADC采用来实现阻抗层析成像。同时，它还可以对采集到的EIT数据进行初步处理，并将结果发送给上位机进行图像重构和显示。\n具体来说，STM32首先配置内部DAC输出20KHz的正弦波信号。本系统中，我们在每个正弦波周期上取200个点输出。经测试，可以输出较为光滑的正弦波信号。DAC和压控电流源的输出信号如图所示。与预期相符。")]),t._v(" "),e("p",[t._v("DAC输出\n"),e("img",{attrs:{src:a(235),alt:""}})]),t._v(" "),e("p",[t._v("压控电流源输出波形\n"),e("img",{attrs:{src:a(236),alt:"alt text"}})]),t._v(" "),e("p",[t._v("接下来，通过双层循环控制CH446Q芯片在16对相邻电极上依次施加恒流激励。每次切换激励电极后，循环将其余14个电极中每对相邻电极接入仪表放大器，并通过ADC采集256个电压值，共采集13组电压值。对于每组电压值，执行256点FFT，并记录20KHz处的幅值。双层循环结束后，共得到16*13=208个幅值。至此，重建一帧图像所需的全部数据采集完成。STM32将这208个数据打包通过USB串口通讯发送至上位机。上位机接收数据后使用MATLAB工具包EIDORS进行图像重建，即可得到一帧图像。连续执行此过程，即可实现对被测场域内阻抗分布的实时监测，进而实现对场域内的凝胶材料的触觉感知。")]),t._v(" "),e("h1",{attrs:{id:"_2-eit系统验证与测试"}},[t._v("2. EIT系统验证与测试")]),t._v(" "),e("h2",{attrs:{id:"_2-1-水槽模型测试"}},[t._v("2.1 水槽模型测试")]),t._v(" "),e("p",[t._v("为了初步验证本文所提出的系统的可行性，我们搭建了一个水槽模型。我们在圆形水槽周围均匀地粘贴16个钛电极，再在水槽中倒入2升0.25mol/L的NaCl溶液。在水槽中放入物体会改变水槽中电导率的分布。我们将检验系统在此模型下的表现。\n图展示了我们的系统在水槽模型下对单目标成像的效果:")]),t._v(" "),e("p",[t._v("图：水槽模型单目标成像\n"),e("img",{attrs:{src:a(237),alt:"alt text"}})]),t._v(" "),e("p",[t._v("展示了我们的系统在水槽模型下对双目标成像的效果:\n"),e("img",{attrs:{src:a(238),alt:"alt text"}})]),t._v(" "),e("h2",{attrs:{id:"_2-2-eit触觉感知系统测试"}},[t._v("2.2 EIT触觉感知系统测试")]),t._v(" "),e("p",[t._v("图 凝胶被测场域重物测试结果图\n"),e("img",{attrs:{src:a(239),alt:"alt text"}})]),t._v(" "),e("p",[t._v("凝胶被测场域触觉测试结果图\n"),e("img",{attrs:{src:a(240),alt:"alt text"}})]),t._v(" "),e("p",[t._v("形水槽周围均匀地粘贴 16 个钛电极，再在水槽中倒入 2 升0.25mol/L的NaCl溶液。\n在水槽中放入物体会改变水槽中电导率的分布。我们将检验系统在此模型下的表现。\n图 8 展示了我们的系统在水槽模型下对单目标成像的效果:")]),t._v(" "),e("h1",{attrs:{id:"附录"}},[t._v("附录")]),t._v(" "),e("h2",{attrs:{id:"附录a-eit触觉感知系统原理图"}},[t._v("附录A EIT触觉感知系统原理图")]),t._v(" "),e("h3",{attrs:{id:"附a1-stm32原理图"}},[t._v("附A1 STM32原理图")]),t._v(" "),e("p",[e("img",{attrs:{src:a(241),alt:"alt text"}})]),t._v(" "),e("p",[e("img",{attrs:{src:a(242),alt:"alt text"}})]),t._v(" "),e("p",[e("img",{attrs:{src:a(243),alt:"alt text"}})]),t._v(" "),e("h3",{attrs:{id:"附a2-usb、12v电源、开关、保险原理图"}},[t._v("附A2 USB、12V电源、开关、保险原理图")]),t._v(" "),e("p",[e("img",{attrs:{src:a(244),alt:"alt text"}})]),t._v(" "),e("p",[e("img",{attrs:{src:a(245),alt:"alt text"}})]),t._v(" "),e("h3",{attrs:{id:"附a3-复位、晶振、启动原理图"}},[t._v("附A3 复位、晶振、启动原理图")]),t._v(" "),e("p",[e("img",{attrs:{src:a(246),alt:"alt text"}})]),t._v(" "),e("h3",{attrs:{id:"附a4-jtag、uart原理图"}},[t._v("附A4 JTAG、UART原理图")]),t._v(" "),e("p",[e("img",{attrs:{src:a(247),alt:"alt text"}})]),t._v(" "),e("h3",{attrs:{id:"附a5-ad7606原理图"}},[t._v("附A5 AD7606原理图")]),t._v(" "),e("p",[e("img",{attrs:{src:a(248),alt:"alt text"}})]),t._v(" "),e("h3",{attrs:{id:"附a6-仪表放大器原理图"}},[t._v("附A6 仪表放大器原理图")]),t._v(" "),e("p",[e("img",{attrs:{src:a(249),alt:"alt text"}})]),t._v(" "),e("h3",{attrs:{id:"附a7-ad7606电源原理图"}},[t._v("附A7 AD7606电源原理图")]),t._v(" "),e("p",[e("img",{attrs:{src:a(250),alt:"alt text"}}),t._v(" "),e("img",{attrs:{src:a(251),alt:"alt text"}})]),t._v(" "),e("h3",{attrs:{id:"附a8-压控电流源原理图"}},[t._v("附A8 压控电流源原理图")]),t._v(" "),e("p",[e("img",{attrs:{src:a(252),alt:"alt text"}})]),t._v(" "),e("h3",{attrs:{id:"附a9-ch446q原理图"}},[t._v("附A9 CH446Q原理图")]),t._v(" "),e("p",[e("img",{attrs:{src:a(253),alt:"alt text"}}),t._v(" "),e("img",{attrs:{src:a(254),alt:"alt text"}})]),t._v(" "),e("h3",{attrs:{id:"附a10-ch446q流水灯测试原理图"}},[t._v("附A10 CH446Q流水灯测试原理图")]),t._v(" "),e("p",[e("img",{attrs:{src:a(255),alt:"alt text"}}),t._v(" "),e("img",{attrs:{src:a(256),alt:"alt text"}})])])}),[],!1,null,null,null);s.default=i.exports}}]);